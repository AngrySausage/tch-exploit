snakeToCamel = (s) ->
  s.replace /(\-\w)/g, (m) ->
    m[1].toUpperCase()

module.exports = process.argv
  .slice 2, process.argv.length
  .reduce (args, str) ->
    arg = str.split '='
    flag = arg[0].slice 2, arg[0].length
    value = arg[1] or true

    args[snakeToCamel(flag)] = value
    args
  , {}
